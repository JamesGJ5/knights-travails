(()=>{var t={347:(t,e,r)=>{"use strict";r(126);var n=r(647),o=r(161);function i(t,e){if(!(this instanceof i))return new i(t,e);e=e||Function.noop,this.getDefault=e,this.store=Object.create(null),this.length=0,this.addEach(t)}t.exports=i,i.Dict=i,Object.addEach(i.prototype,n.prototype),Object.addEach(i.prototype,o.prototype),i.from=n.from,i.prototype.constructClone=function(t){return new this.constructor(t,this.getDefault)},i.prototype.assertString=function(t){if("string"!=typeof t)throw new TypeError("key must be a string but Got "+t)},Object.defineProperty(i.prototype,"$__proto__",{writable:!0}),Object.defineProperty(i.prototype,"_hasProto",{get:function(){return this.hasOwnProperty("$__proto__")&&void 0!==this._protoValue}}),Object.defineProperty(i.prototype,"_protoValue",{get:function(){return this.$__proto__},set:function(t){this.$__proto__=t}}),Object.defineProperty(i.prototype,"size",n._sizePropertyDescriptor),i.prototype.get=function(t,e){return this.assertString(t),"__proto__"===t?this._hasProto?this._protoValue:arguments.length>1?e:this.getDefault(t):t in this.store?this.store[t]:arguments.length>1?e:this.getDefault(t)},i.prototype.set=function(t,e){this.assertString(t);var r="__proto__"===t;return(r?this._hasProto:t in this.store)?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,r?this._protoValue:this.store[t]),r?this._protoValue=e:this.store[t]=e,this.dispatchesMapChanges&&this.dispatchMapChange(t,e),!1):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,void 0),this.length++,r?this._protoValue=e:this.store[t]=e,this.dispatchesMapChanges&&this.dispatchMapChange(t,e),!0)},i.prototype.has=function(t){return this.assertString(t),"__proto__"===t?this._hasProto:t in this.store},i.prototype.delete=function(t){return this.assertString(t),"__proto__"===t?!!this._hasProto&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,this._protoValue),this._protoValue=void 0,this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(t,void 0),!0):t in this.store&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,this.store[t]),delete this.store[t],this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(t,void 0),!0)},i.prototype.clear=function(){var t;for(t in this._hasProto&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange("__proto__",this._protoValue),this._protoValue=void 0,this.dispatchesMapChanges&&this.dispatchMapChange("__proto__",void 0)),this.store)this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,this.store[t]),delete this.store[t],this.dispatchesMapChanges&&this.dispatchMapChange(t,void 0);this.length=0},i.prototype.reduce=function(t,e,r){this._hasProto&&(e=t.call(r,e,"$__proto__","__proto__",this));var n=this.store;for(var o in this.store)e=t.call(r,e,n[o],o,this);return e},i.prototype.reduceRight=function(t,e,r){var n=this,o=this.store;return e=Object.keys(this.store).reduceRight((function(e,i){return t.call(r,e,o[i],i,n)}),e),this._hasProto?t.call(r,e,this._protoValue,"__proto__",n):e},i.prototype.one=function(){var t;for(t in this.store)return this.store[t];return this._protoValue},i.prototype.toJSON=function(){return this.toObject()}},600:(t,e,r)=>{"use strict";r(126);var n=r(347),o=r(55),i=r(647),s=r(900),a=r(312);function h(t,e,r,n){if(!(this instanceof h))return new h(t,e,r,n);e=e||Object.equals,r=r||Object.hash,n=n||Function.noop,this.contentEquals=e,this.contentHash=r,this.getDefault=n;var o=this;this.buckets=new this.Buckets(null,(function(){return new o.Bucket})),this.length=0,this.addEach(t)}Object.prototype.hasOwnProperty,t.exports=h,h.FastSet=h,Object.addEach(h.prototype,i.prototype),Object.addEach(h.prototype,s.prototype),h.from=i.from,h.prototype.Buckets=n,h.prototype.Bucket=o,h.prototype.constructClone=function(t){return new this.constructor(t,this.contentEquals,this.contentHash,this.getDefault)},h.prototype.has=function(t){var e=this.contentHash(t);return this.buckets.get(e).has(t)},h.prototype.get=function(t,e){if(e)throw new Error("FastSet#get does not support second argument: equals");var r=this.contentHash(t),n=this.buckets;return n.has(r)?n.get(r).get(t):this.getDefault(t)},h.prototype.delete=function(t,e){if(e)throw new Error("FastSet#delete does not support second argument: equals");var r=this.contentHash(t),n=this.buckets;if(n.has(r)){var o=n.get(r);if(o.delete(t))return this.length--,0===o.length&&n.delete(r),!0}return!1},h.prototype.clear=function(){this.buckets.clear(),this.length=0},h.prototype.add=function(t){var e=this.contentHash(t),r=this.buckets;return r.has(e)||r.set(e,new this.Bucket(null,this.contentEquals)),!r.get(e).has(t)&&(r.get(e).add(t),this.length++,!0)},h.prototype.reduce=function(t,e){var r=arguments[2],n=this.buckets,o=0;return n.reduce((function(e,n){return n.reduce((function(e,n){return t.call(r,e,n,o++,this)}),e,this)}),e,this)},h.prototype.one=function(){if(this.length>0)return this.buckets.one().one()},h.prototype.iterate=function(){return this.buckets.valuesArray().flatten().iterate()},h.prototype.log=function(t,e,r,n){t=t||a.unicodeSharp,e=e||this.logNode,r||(r=console.log,n=console),r=r.bind(n);for(var o,i,s,h,c=this.buckets,u=c.size,p=c.keys(),f=0;o=p.next().value;)f===u-1?(i=t.fromAbove,s=" "):0===f?(i=t.branchDown,s=t.strafe):(i=t.fromBoth,s=t.strafe),h=c.get(o),r.call(n,i+t.through+t.branchDown+" "+o),h.forEach((function(o,i){var a,c,u;i===h.head.prev?(a=t.fromAbove,c=" "):(a=t.fromBoth,c=t.strafe),e(i,(function(e){u?r.call(n,s+" "+c+"  "+e):(r.call(n,s+" "+a+t.through+t.through+e),u=!0)}),(function(e){r.call(n,s+" "+t.strafe+"  "+e)}))})),f++},h.prototype.logNode=function(t,e){var r=t.value;Object(r)===r?JSON.stringify(r,null,4).split("\n").forEach((function(t){e(" "+t)})):e(" "+r)}},55:(t,e,r)=>{"use strict";t.exports=i,r(126);var n=r(647),o=r(188);function i(t,e,r){return i._init(i,this,t,e,r)}function s(t){this.head=t,this.at=t.next}function a(t){this.value=t,this.prev=null,this.next=null}i._init=function(t,e,r,n,o){if(!(e instanceof t))return new t(r,n,o);var i=e.head=new e.Node;i.next=i,i.prev=i,e.contentEquals=n||Object.equals,e.getDefault=o||Function.noop,e.length=0,e.addEach(r)},i.List=i,Object.addEach(i.prototype,n.prototype),Object.addEach(i.prototype,o.prototype),i.from=n.from,i.prototype.constructClone=function(t){return new this.constructor(t,this.contentEquals,this.getDefault)},i.prototype.find=function(t,e,r){e=e||this.contentEquals;for(var n=this.head,o=this.scan(r,n.next);o!==n;){if(e(o.value,t))return o;o=o.next}},i.prototype.findLast=function(t,e,r){e=e||this.contentEquals;for(var n=this.head,o=this.scan(r,n.prev);o!==n;){if(e(o.value,t))return o;o=o.prev}},i.prototype.has=function(t,e){return!!this.find(t,e)},i.prototype.get=function(t,e){var r=this.find(t,e);return r?r.value:this.getDefault(t)},i.prototype.delete=function(t,e){var r=this.findLast(t,e);return!!r&&(r.delete(),this.length--,!0)},i.prototype.deleteAll=function(t,e){e=e||this.contentEquals;for(var r=this.head,n=r.next,o=0;n!==r;)e(t,n.value)&&(n.delete(),o++),n=n.next;return this.length-=o,o},i.prototype.clear=function(){this.head.next=this.head.prev=this.head,this.length=0},i.prototype.add=function(t){var e=new this.Node(t);return this._addNode(e)},i.prototype._addNode=function(t){return this.head.addBefore(t),this.length++,!0},i.prototype.push=function(){for(var t=this.head,e=0;e<arguments.length;e++){var r=arguments[e],n=new this.Node(r);t.addBefore(n)}this.length+=arguments.length},i.prototype.unshift=function(){for(var t=this.head,e=0;e<arguments.length;e++){var r=arguments[e],n=new this.Node(r);t.addAfter(n),t=n}this.length+=arguments.length},i.prototype._shouldPop=function(){var t,e=this.head;return e.prev!==e&&(t=e.prev.value),t},i.prototype.pop=function(t,e){var r,n=this.head;if(n.prev!==n){r=n.prev.value;var o=this.length-1,i=t?t.call(this,r,o):void 0;n.prev.delete(),this.length--,e&&e.call(this,r,o,i)}return r},i.prototype.shift=function(t,e){var r,n=this.head;if(n.prev!==n){r=n.next.value;var o=t?t.call(this,r,0):void 0;n.next.delete(),this.length--,e&&e.call(this,r,0,o)}return r},i.prototype.peek=function(){if(this.head!==this.head.next)return this.head.next.value},i.prototype.poke=function(t){this.head!==this.head.next?this.head.next.value=t:this.push(t)},i.prototype.one=function(){return this.peek()},i.prototype.scan=function(t,e){var r=this.head;if("number"==typeof t){var n=t;if(n>=0)for(t=r.next;n&&(n--,(t=t.next)!=r););else for(t=r;n<0&&(n++,(t=t.prev)!=r););return t}return t||e},i.prototype.slice=function(t,e){var r=[],n=this.head;for(t=this.scan(t,n.next),e=this.scan(e,n);t!==e&&t!==n;)r.push(t.value),t=t.next;return r},i.prototype.splice=function(t,e){return this.swap(t,e,Array.prototype.slice.call(arguments,2))},i.prototype.swap=function(t,e,r,n,o){var i=t;t=this.scan(t,this.head),null==e&&(e=1/0),r=Array.from(r);for(var s=[],a=t;e--&&e>=0&&a!==this.head;)s.push(a.value),a=a.next;n&&n.call(this,t,r,s),a=t;var h=0;for(a=t;h<s.length;h++,a=a.next)a.delete();for(null==i&&a===this.head&&(a=this.head.next),h=0;h<r.length;h++){var c=new this.Node(r[h]);a.addBefore(c)}return this.length+=r.length-s.length,o&&o.call(this,t,r,s),s},i.prototype.reverse=function(){var t=this.head;do{var e=t.next;t.next=t.prev,t.prev=e,t=t.next}while(t!==this.head);return this},i.prototype.sort=function(){this.swap(0,this.length,this.sorted.apply(this,arguments))},i.prototype.reduce=function(t,e){for(var r=arguments[2],n=this.head,o=n.next;o!==n;)e=t.call(r,e,o.value,o,this),o=o.next;return e},i.prototype.reduceRight=function(t,e){for(var r=arguments[2],n=this.head,o=n.prev;o!==n;)e=t.call(r,e,o.value,o,this),o=o.prev;return e},i.prototype.updateIndexes=function(t,e){for(;t!==this.head;)t.index=e++,t=t.next},i.prototype.iterate=function(){return new s(this.head)},s.prototype.__iterationObject=null,Object.defineProperty(s.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:null})}}),s.prototype.next=function(){if(this.at===this.head)this._iterationObject.done=!0,this._iterationObject.value=void 0;else{var t=this.at.value;this.at=this.at.next,this._iterationObject.value=t}return this._iterationObject},i.prototype.Node=a,a.prototype.delete=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.addBefore=function(t){var e=this.prev;this.prev=t,t.prev=e,e.next=t,t.next=this},a.prototype.addAfter=function(t){var e=this.next;this.next=t,t.next=e,e.prev=t,t.prev=this}},556:(t,e,r)=>{"use strict";r(126);var n,o,i,s=r(647);if(void 0!==r.g.Map&&"function"==typeof r.g.Set.prototype.values){var a;o=n=t.exports=r.g.Map,n.Map=n,a={}.__proto__===Object.prototype?function(){this.__proto__=d}:function(){Object.defineProperties(this,observableSetProperties)},Object.defineProperty(n.prototype,"makeObservable",{value:a,writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(n.prototype,"makePropertyObservable",{value:function(){},writable:!0,configurable:!0,enumerable:!1}),n.prototype.constructClone=function(t){return new this.constructor(t)},n.prototype.isMap=!0,n.prototype.addEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)!0===t.isMap?t.forEach((function(t,e){this.set(e,t)}),this):t.forEach((function(t){this.set(t[0],t[1])}),this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.add(t[e],e);else Object.keys(t).forEach((function(e){this.set(e,t[e])}),this);else if(t&&"number"==typeof t.length)for(e=0;e<t.length;e++)this.add(t[e],e);return this},n.prototype.add=function(t,e){return this.set(e,t)},n.prototype.reduce=function(t,e){var r=arguments[2];return this.forEach((function(n,o,i){e=t.call(r,e,n,o,this)})),e},n.prototype.reduceRight=function(t,e){for(var r,n=arguments[2],o=this.keys(),i=this.size,s=new Array(this.size),a=0;r=o.next().value;)s[--i]=r;for(;a++<i;)e=t.call(n,e,this.get(s[a]),s[a],this);return e},n.prototype.equals=function(t,e){return e=e||Object.equals,this===t||(t&&"function"==typeof t.every?t.size===this.size&&t.every((function(t,r){return e(this.get(r),t)}),this):Object.keys(t).length===this.size&&Object.keys(t).every((function(r){return e(this.get(r),t[r])}),this))};var h=function(t,e){return e};n.prototype.keysArray=function(){return this.map(h)};var c=function(t,e){return t};n.prototype.valuesArray=function(){return this.map(c)};var u=function(t,e){return[e,t]};n.prototype.entriesArray=function(){return this.map(u)},n.prototype.toJSON=function(){return this.entriesArray()},n.prototype.items=function(){return this.entriesArray()},n.from=function(t){var e=new this;return e.addEach(t),e},Object.defineProperty(n.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0});var p=n.prototype.clear,f=n.prototype.set,l=n.prototype.delete,y={clear:{value:function(){var t;this.dispatchesMapChanges&&(this.forEach((function(t,e){this.dispatchBeforeMapChange(e,t)}),this),t=this.keysArray()),p.call(this),this.dispatchesMapChanges&&t.forEach((function(t){this.dispatchMapChange(t)}),this)},writable:!0,configurable:!0},set:{value:function(t,e){var r=this.get(t);return r?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,r),f.call(this,t,e),this.dispatchesMapChanges&&this.dispatchMapChange(t,e)):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,void 0),f.call(this,t,e),this.dispatchesMapChanges&&this.dispatchMapChange(t,e)),this},writable:!0,configurable:!0},delete:{value:function(t){return!!this.has(t)&&(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,this.get(t)),l.call(this,t),this.dispatchesMapChanges&&this.dispatchMapChange(t,void 0),!0)}}};Object.addEach(n.prototype,s.prototype,!1);var d=Object.create(n.prototype,y)}var g=r(781).CollectionsSet,v=r(161);i=n=function t(e,r,n,o){if(!(this instanceof t))return new t(e,r,n,o);r=r||Object.equals,n=n||Object.hash,o=o||Function.noop,this.contentEquals=r,this.contentHash=n,this.getDefault=o,this.store=new g(void 0,(function(t,e){return r(t.key,e.key)}),(function(t){return n(t.key)})),this.length=0,this.addEach(e)},n.Map=n,Object.addEach(n.prototype,s.prototype),Object.addEach(n.prototype,v.prototype),Object.defineProperty(n.prototype,"size",s._sizePropertyDescriptor),n.from=s.from,n.prototype.constructClone=function(t){return new this.constructor(t,this.contentEquals,this.contentHash,this.getDefault)},n.prototype.log=function(t,e,r,n){e=e||this.logNode,this.store.log(t,(function(t,r,n){e(t.value.value,r,n)}),r,n)},n.prototype.logNode=function(t,e){e(" key: "+t.key),e(" value: "+t.value)},o?(t.exports=o,o.CollectionsMap=i):t.exports=i},781:(t,e,r)=>{"use strict";r(126);var n,o,i=r(647),s=r(900);void 0!==r.g.Set&&"function"==typeof r.g.Set.prototype.values&&((n=t.exports=r.g.Set).Set=n,n.prototype.reduce=function(t,e){var r=arguments[2];return this.forEach((function(n){e=t.call(r,e,n,this)})),e},n.prototype.reduceRight=function(t,e){for(var r,n=arguments[2],o=this.values(),i=this.size,s=new Array(this.size),a=i;r=o.next().value;)s[--a]=r;for(;a<i;)e=t.call(n,e,s[a++],this);return e},n.prototype.equals=function(t,e){var r=this;return t&&"function"==typeof t.reduce&&this.size===(t.size||t.length)&&t.reduce((function(t,n){return t&&r.has(n,e)}),!0)},n.prototype.constructClone=function(t){return new this.constructor(t,this.contentEquals,this.contentHash,this.getDefault)},n.prototype.toJSON=function(){return this.entriesArray()},n.prototype.one=function(){if(this.size>0)return this.values().next().value},n.prototype.pop=function(){if(this.size){for(var t,e,r=this.values();t=r.next().value;)e=t;return this.delete(e,this.size-1),e}},n.prototype.shift=function(){if(this.size){var t=this.values().next().value;return this.delete(t,0),t}},Object.defineProperty(n.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),n.from=function(t){var e=new this;return e.addEach(t),e},Object.addEach(n.prototype,i.prototype,!1),Object.addEach(n.prototype,s.prototype,!1));var a=r(55),h=r(600),c=r(582);(o=function t(e,r,n,o){return t._init(t,this,e,r,n,o)})._init=function(t,e,r,n,o,i){if(!(e instanceof t))return new t(r,n,o,i);n=n||Object.equals,o=o||Object.hash,i=i||Function.noop,e.contentEquals=n,e.contentHash=o,e.getDefault=i,e.order=new e.Order(void 0,n),e.store=new e.Store(void 0,(function(t,e){return n(t.value,e.value)}),(function(t){return o(t.value)})),e.length=0,e.addEach(r)},o.Set=o,o.CollectionsSet=o,Object.addEach(o.prototype,i.prototype),Object.addEach(o.prototype,s.prototype),o.from=i.from,Object.defineProperty(o.prototype,"size",i._sizePropertyDescriptor),o.prototype.Order=a,o.prototype.Store=h,o.prototype.constructClone=function(t){return new this.constructor(t,this.contentEquals,this.contentHash,this.getDefault)},o.prototype.has=function(t){var e=new this.order.Node(t);return this.store.has(e)},o.prototype.get=function(t,e){if(e)throw new Error("Set#get does not support second argument: equals");var r=new this.order.Node(t);return(r=this.store.get(r))?r.value:this.getDefault(t)},o.prototype.add=function(t){var e=new this.order.Node(t);return!this.store.has(e)&&(this.length,this.order.add(t),e=this.order.head.prev,this.store.add(e),this.length++,!0)},o.prototype.delete=function(t,e){if(e)throw new Error("Set#delete does not support second argument: equals");var r=new this.order.Node(t);return!!this.store.has(r)&&(r=this.store.get(r),this.store.delete(r),this.order.splice(r,1),this.length--,!0)},o.prototype.pop=function(){if(this.length){var t=this.order.head.prev.value;return this.delete(t),t}},o.prototype.shift=function(){if(this.length){var t=this.order.head.next.value;return this.delete(t),t}},o.prototype.one=function(){if(this.length>0)return this.store.one().value},o.prototype.clear=function(){this.store.clear(),this.order.clear(),this.length=0},Object.defineProperty(o.prototype,"_clear",{value:o.prototype.clear}),o.prototype.reduce=function(t,e){var r=arguments[2],n=this.order,o=0;return n.reduce((function(e,n){return t.call(r,e,n,o++,this)}),e,this)},o.prototype.reduceRight=function(t,e){var r=arguments[2],n=this.order,o=this.length-1;return n.reduceRight((function(e,n){return t.call(r,e,n,o--,this)}),e,this)},o.prototype.iterate=function(){return this.order.iterate()},o.prototype.values=function(){return new c(this.valuesArray(),!0)},o.prototype.log=function(){var t=this.store;return t.log.apply(t,arguments)},n?(n.prototype.valuesArray=s.prototype.valuesArray,n.prototype.entriesArray=s.prototype.entriesArray,t.exports=n,n.CollectionsSet=o):t.exports=o},678:(t,e,r)=>{"use strict";r(930);var n=r(647),o=r(188),i=r(226);function s(t,e){if(!(this instanceof s))return new s(t,e);this.capacity=this.snap(e),this.init(),this.length=0,this.front=0,this.addEach(t)}t.exports=s,Object.addEach(s.prototype,n.prototype),Object.addEach(s.prototype,o.prototype),Object.addEach(s.prototype,i.prototype),s.from=n.from,s.prototype.maxCapacity=1<<30|0,s.prototype.minCapacity=16,s.prototype.constructClone=function(t){return new this.constructor(t,this.capacity)},s.prototype.add=function(t){this.push(t)},s.prototype.push=function(t){var e=arguments.length,r=this.length;if(this.dispatchesRangeChanges){for(var n=new Array(e),o=0;o<e;++o)n[o]=arguments[o];var i=[];this.dispatchBeforeRangeChange(n,i,r)}if(e>1){var s=this.capacity;if(r+e>s)for(o=0;o<e;++o)this.ensureCapacity(r+1),this[a=this.front+r&this.capacity-1]=arguments[o],r++,this.length=r;else{var a=this.front;for(o=0;o<e;++o)this[a+r&s-1]=arguments[o],a++;this.length=r+e}}else if(1===e){this.ensureCapacity(r+1);var h=this.front+r&this.capacity-1;this[h]=t,this.length=r+1}return this.dispatchesRangeChanges&&this.dispatchRangeChange(n,i,r),this.length},s.prototype.pop=function(){var t=this.length;if(0!==t){var e=this.front+t-1&this.capacity-1,r=this[e];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[r],t-1),this[e]=void 0,this.length=t-1,this.dispatchesRangeChanges&&this.dispatchRangeChange([],[r],t-1),r}},s.prototype.shift=function(){if(0!==this.length){var t=this.front,e=this[t];return this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],0),this[t]=void 0,this.front=t+1&this.capacity-1,this.length--,this.dispatchesRangeChanges&&this.dispatchRangeChange([],[e],0),e}},s.prototype.unshift=function(t){var e=this.length,r=arguments.length;if(this.dispatchesRangeChanges){for(var n=new Array(r),o=0;o<r;++o)n[o]=arguments[o];var i=[];this.dispatchBeforeRangeChange(n,i,0)}if(r>1)if(e+r>(s=this.capacity))for(o=r-1;o>=0;o--){this.ensureCapacity(e+1);var s=this.capacity;this[h=(this.front-1&s-1^s)-s]=arguments[o],e++,this.front=h,this.length=e}else{var a=this.front;for(o=r-1;o>=0;o--)this[h=(a-1&s-1^s)-s]=arguments[o],a=h;this.front=a,this.length=e+r}else if(1===r){var h;this.ensureCapacity(e+1),s=this.capacity,this[h=(this.front-1&s-1^s)-s]=t,this.length=e+1,this.front=h}return this.dispatchesRangeChanges&&this.dispatchRangeChange(n,i,0),this.length},s.prototype.clear=function(){this.length=0,this.front=0,this.init()},s.prototype.ensureCapacity=function(t){this.capacity<t&&this.grow(this.snap(1.5*this.capacity+16))},s.prototype.grow=function(t){var e=this.front,r=this.capacity,n=new Array(r),o=this.length;if(c(this,0,n,0,r),this.capacity=t,this.init(),this.front=0,e+o<=r)c(n,e,this,0,o);else{var i=o-(e+o&r-1);c(n,e,this,0,i),c(n,0,this,i,o-i)}},s.prototype.init=function(){for(var t=0;t<this.capacity;++t)this[t]="nil"},s.prototype.snap=function(t){return"number"!=typeof t?this.minCapacity:(e=Math.min(this.maxCapacity,Math.max(this.minCapacity,t)),e>>>=0,e-=1,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,1+(e|=e>>16));var e},s.prototype.one=function(){if(this.length>0)return this[this.front]},s.prototype.peek=function(){if(0!==this.length)return this[this.front]},s.prototype.poke=function(t){0!==this.length&&(this[this.front]=t)},s.prototype.peekBack=function(){var t=this.length;if(0!==t)return this[this.front+t-1&this.capacity-1]},s.prototype.pokeBack=function(t){var e=this.length;0!==e&&(this[this.front+e-1&this.capacity-1]=t)},s.prototype.get=function(t){if(t===(0|t)&&(t<0&&(t+=this.length),!(t<0||t>=this.length)))return this[this.front+t&this.capacity-1]},s.prototype.indexOf=function(t,e){null==e&&(e=0),e<0&&(e+=this.length);for(var r=this.capacity-1;e<this.length;e++)if(this[this.front+e&r]===t)return e;return-1},s.prototype.lastIndexOf=function(t,e){null==e&&(e=this.length-1),e<0&&(e+=this.length);for(var r=this.capacity-1;e>=0;e--)if(this[this.front+e&r]===t)return e;return-1};var a={};function h(t,e){"undefined"!=typeof console&&"function"==typeof console.warn&&!0!==e&&!1===a.hasOwnProperty(t)&&(console.warn(t),a[t]++)}function c(t,e,r,n,o){for(var i=0;i<o;++i)r[i+n]=t[i+e]}s.prototype.find=function(){return h("Deque#find function is deprecated please use Deque#findValue instead."),this.findValue.apply(this,arguments)},s.prototype.findValue=function(t,e,r){e=e||Object.equals,null==r&&(r=0),r<0&&(r+=this.length);for(var n=this.capacity-1;r<this.length;r++)if(e(t,this[this.front+r&n]))return r;return-1},s.prototype.findLast=function(){return h("Deque#findLast function is deprecated please use Deque#findLastValue instead."),this.findLastValue.apply(this,arguments)},s.prototype.findLastValue=function(t,e,r){e=e||Object.equals,null==r&&(r=this.length-1),r<0&&(r+=this.length);for(var n=this.capacity-1;r>=0;r--)if(e(t,this[this.front+r&n]))return r;return-1},s.prototype.has=function(t,e){e=e||Object.equals;for(var r=this.capacity-1,n=0;n<this.length;n++)if(this[this.front+n&r]===t)return!0;return!1},s.prototype.reduce=function(t,e){for(var r=arguments[2],n=this.capacity-1,o=0;o<this.length;o++){var i=this.front+o&n;e=t.call(r,e,this[i],o,this)}return e},s.prototype.reduceRight=function(t,e){for(var r=arguments[2],n=this.capacity-1,o=this.length-1;o>=0;o--){var i=this.front+o&n;e=t.call(r,e,this[i],o,this)}return e}},647:(t,e,r)=>{"use strict";function n(){throw new Error("Can't construct. GenericCollection is a mixin.")}t.exports=n;var o=r.g.DOMTokenList||function(){};n.EmptyArray=Object.freeze([]),n.prototype.addEach=function(t,e,r){if(t&&(t instanceof Array||t instanceof o||t instanceof String))if(e)for(var n=0;n<t.length;n++)this.add(e.call(r,t[n]),n);else for(n=0;n<t.length;n++)this.add(t[n],n);else if(t&&Object(t)===t)if("function"==typeof t.forEach)e?t.map(e,r).forEach(this.add,this):t.forEach(this.add,this);else if("function"==typeof t.next){var i;if(n=0,e)for(;i=t.next().value;)this.add(e.call(r,i),n++);else for(;i=t.next().value;)this.add(i,n++)}else if("number"==typeof t.length)if(e)for(n=0;n<t.length;n++)this.add(e.call(r,t[n]),n);else for(n=0;n<t.length;n++)this.add(t[n],n);else e?Object.keys(t).forEach((function(n){this.add(e.call(r,t[n]),n)}),this):Object.keys(t).forEach((function(e){this.add(t[e],e)}),this);return this},n.prototype.deleteEach=function(t,e){return t.forEach((function(t){this.delete(t,e)}),this),this},n.prototype.forEach=function(t){var e=arguments[1];return this.reduce((function(r,n,o,i,s){t.call(e,n,o,i,s)}),void 0)},n.prototype.map=function(t){var e=arguments[1],r=[];return this.reduce((function(n,o,i,s,a){r.push(t.call(e,o,i,s,a))}),void 0),r},n.prototype.enumerate=function(t){null==t&&(t=0);var e=[];return this.reduce((function(r,n){e.push([t++,n])}),void 0),e},n.prototype.group=function(t,e,r){r=r||Object.equals;var n=[],o=[];return this.forEach((function(i,s,a){s=t.call(e,i,s,a);var h,c=o.indexOf(s,r);-1===c?(h=[],n.push([s,h]),o.push(s)):h=n[c][1],h.push(i)})),n},n.prototype.toArray=function(){return this.map(Function.identity)},n.prototype.toObject=function(){var t={};return this.reduce((function(e,r,n){t[n]=r}),void 0),t},n.from=function(){return this.apply(this,arguments)},n.prototype.filter=function(t){var e=arguments[1],r=this.constructClone();return this.reduce((function(n,o,i,s,a){t.call(e,o,i,s,a)&&r.add(o,i)}),void 0),r},n.prototype.every=function(t){var e=arguments[1];return this.reduce((function(r,n,o,i,s){return r&&t.call(e,n,o,i,s)}),!0)},n.prototype.some=function(t){var e=arguments[1];return this.reduce((function(r,n,o,i,s){return r||t.call(e,n,o,i,s)}),!1)},n.prototype.all=function(){return this.every(Boolean)},n.prototype.any=function(){return this.some(Boolean)},n.prototype.min=function(t){t=t||this.contentCompare||Object.compare;var e=!0;return this.reduce((function(r,n){return e?(e=!1,n):t(n,r)<0?n:r}),void 0)},n.prototype.max=function(t){t=t||this.contentCompare||Object.compare;var e=!0;return this.reduce((function(r,n){return e?(e=!1,n):t(n,r)>0?n:r}),void 0)},n.prototype.sum=function(t){return t=void 0===t?0:t,this.reduce((function(t,e){return t+e}),t)},n.prototype.average=function(t){var e=void 0===t?0:t,r=void 0===t?0:t;return this.reduce((function(t,n){e+=n,r+=1}),void 0),e/r},n.prototype.concat=function(){for(var t=this.constructClone(this),e=0;e<arguments.length;e++)t.addEach(arguments[e]);return t},n.prototype.flatten=function(){var t=this;return this.reduce((function(e,r){return r.forEach((function(t){this.push(t)}),e,t),e}),[])},n.prototype.zip=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),Array.unzip(t)},n.prototype.join=function(t){return this.reduce((function(e,r){return void 0===e?r:e+t+r}),void 0)},n.prototype.sorted=function(t,e,r){return(t=t||this.contentCompare||Object.compare).by?(e=t.by,t=t.compare||this.contentCompare||Object.compare):e=e||Function.identity,void 0===r&&(r=1),this.map((function(t){return{by:e(t),value:t}})).sort((function(e,n){return t(e.by,n.by)*r})).map((function(t){return t.value}))},n.prototype.reversed=function(){return this.constructClone(this).reverse()},n.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var r=this.constructClone();return this.forEach((function(n,o){r.add(Object.clone(n,t-1,e),o)}),this),r},n.prototype.only=function(){if(1===this.length)return this.one()},n.prototype.iterator=function(){return this.iterate.apply(this,arguments)},n._sizePropertyDescriptor={get:function(){return this.length},enumerable:!1,configurable:!0},Object.defineProperty(n.prototype,"size",n._sizePropertyDescriptor),r(943)},161:(t,e,r)=>{"use strict";var n=r(930),o=r(582);function i(){throw new Error("Can't construct. GenericMap is a mixin.")}function s(t,e){this.key=t,this.value=e}t.exports=i,i.prototype.isMap=!0,i.prototype.addEach=function(t){var e;if(t&&n(t)===t)if("function"==typeof t.forEach)!0===t.isMap?t.forEach((function(t,e){this.set(e,t)}),this):t.forEach((function(t){this.set(t[0],t[1])}),this);else if("number"==typeof t.length)for(e=0;e<t.length;e++)this.add(t[e],e);else n.keys(t).forEach((function(e){this.set(e,t[e])}),this);else if(t&&"number"==typeof t.length)for(e=0;e<t.length;e++)this.add(t[e],e);return this},i.prototype.get=function(t,e){var r=this.store.get(new this.Item(t));return r?r.value:arguments.length>1?(console.log("Use of a second argument as default value is deprecated to match standards"),e):this.getDefault(t)},i.prototype.set=function(t,e){var r=new this.Item(t,e),n=this.store.get(r);return n?(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,n.value),n.value=e,this.dispatchesMapChanges&&this.dispatchMapChange(t,e)):(this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,void 0),this.store.add(r)&&this.length++,this.dispatchesMapChanges&&this.dispatchMapChange(t,e)),this},i.prototype.add=function(t,e){return this.set(e,t)},i.prototype.has=function(t){return this.store.has(new this.Item(t))},i.prototype.delete=function(t){var e=new this.Item(t);if(this.store.has(e)){var r=this.store.get(e).value;return this.dispatchesMapChanges&&this.dispatchBeforeMapChange(t,r),this.store.delete(e),this.length--,this.dispatchesMapChanges&&this.dispatchMapChange(t,void 0),!0}return!1},i.prototype.clear=function(){var t,e;if(this.dispatchesMapChanges&&(this.forEach((function(t,e){this.dispatchBeforeMapChange(e,t)}),this),t=this.keysArray()),this.store.clear(),this.length=0,this.dispatchesMapChanges)for(var r=0;e=t[r];r++)this.dispatchMapChange(e)},i.prototype.reduce=function(t,e,r){return this.store.reduce((function(e,n){return t.call(r,e,n.value,n.key,this)}),e,this)},i.prototype.reduceRight=function(t,e,r){return this.store.reduceRight((function(e,n){return t.call(r,e,n.value,n.key,this)}),e,this)},i.prototype.keysArray=function(){return this.map((function(t,e){return e}))},i.prototype.keys=function(){return new o(this.keysArray(),!0)},i.prototype.valuesArray=function(){return this.map(Function.identity)},i.prototype.values=function(){return new o(this.valuesArray(),!0)},i.prototype.entriesArray=function(){return this.map((function(t,e){return[e,t]}))},i.prototype.entries=function(){return new o(this.entriesArray(),!0)},i.prototype.items=function(){return this.entriesArray()},i.prototype.equals=function(t,e){return e=e||n.equals,this===t||(t&&"function"==typeof t.every?t.length===this.length&&t.every((function(t,r){return e(this.get(r),t)}),this):n.keys(t).length===this.length&&n.keys(t).every((function(r){return e(this.get(r),t[r])}),this))},i.prototype.toJSON=function(){return this.entriesArray()},i.prototype.Item=s,s.prototype.equals=function(t){return n.equals(this.key,t.key)&&n.equals(this.value,t.value)},s.prototype.compare=function(t){return n.compare(this.key,t.key)}},188:(t,e,r)=>{var n=r(930);function o(){throw new Error("Can't construct. GenericOrder is a mixin.")}t.exports=o,o.prototype.equals=function(t,e){return e=e||this.contentEquals||n.equals,this===t||!!t&&(this.length===t.length&&this.zip(t).every((function(t){return e(t[0],t[1])})))},o.prototype.compare=function(t,e){if(e=e||this.contentCompare||n.compare,this===t)return 0;if(!t)return 1;var r=Math.min(this.length,t.length),o=this.zip(t).reduce((function(t,n,o){return 0===t?o>=r?t:e(n[0],n[1]):t}),0);return 0===o?this.length-t.length:o},o.prototype.toJSON=function(){return this.toArray()}},900:t=>{function e(){throw new Error("Can't construct. GenericSet is a mixin.")}t.exports=e,e.prototype.isSet=!0,e.prototype.union=function(t){var e=this.constructClone(this);return e.addEach(t),e},e.prototype.intersection=function(t){return this.constructClone(this.filter((function(e){return t.has(e)})))},e.prototype.difference=function(t){var e=this.constructClone(this);return e.deleteEach(t),e},e.prototype.symmetricDifference=function(t){var e=this.union(t),r=this.intersection(t);return e.difference(r)},e.prototype.deleteAll=function(t){return+this.delete(t)},e.prototype.equals=function(t,e){var r=this;return t&&"function"==typeof t.reduce&&this.length===t.length&&t.reduce((function(t,n){return t&&r.has(n,e)}),!0)},e.prototype.forEach=function(t){var e=arguments[1];return this.reduce((function(r,n,o,i,s){t.call(e,n,n,i,s)}),void 0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.contains=function(t){return this.has(t)},e.prototype.remove=function(t){return this.delete(t)},e.prototype.toggle=function(t){this.has(t)?this.delete(t):this.add(t)};var r=function(t,e){return t};e.prototype.valuesArray=function(){return this.map(r)};var n=function(t,e){return[e,t]};e.prototype.entriesArray=function(){return this.map(n)}},582:(t,e,r)=>{"use strict";t.exports=i;var n=r(930),o=r(647);function i(t,e){var r=e&&t&&t.values&&t.values();if(r&&"function"==typeof r.next)return r;if(!(this instanceof i))return new i(t);if(Array.isArray(t)||"string"==typeof t)return i.iterate(t);if((t=n(t))instanceof i)return t;if(t.next)this.next=function(){return t.next()};else if(t.iterate){var o=t.iterate();this.next=function(){return o.next()}}else{if("[object Function]"!==n.prototype.toString.call(t))throw new TypeError("Can't iterate "+t);this.next=t}}i.prototype.forEach=o.prototype.forEach,i.prototype.map=o.prototype.map,i.prototype.filter=o.prototype.filter,i.prototype.every=o.prototype.every,i.prototype.some=o.prototype.some,i.prototype.any=o.prototype.any,i.prototype.all=o.prototype.all,i.prototype.min=o.prototype.min,i.prototype.max=o.prototype.max,i.prototype.sum=o.prototype.sum,i.prototype.average=o.prototype.average,i.prototype.flatten=o.prototype.flatten,i.prototype.zip=o.prototype.zip,i.prototype.enumerate=o.prototype.enumerate,i.prototype.sorted=o.prototype.sorted,i.prototype.group=o.prototype.group,i.prototype.reversed=o.prototype.reversed,i.prototype.toArray=o.prototype.toArray,i.prototype.toObject=o.prototype.toObject,i.prototype.iterator=o.prototype.iterator,i.prototype.__iterationObject=null,n.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:void 0})}}),i.prototype.constructClone=function(t){var e=[];return e.addEach(t),e},i.prototype.mapIterator=function(t){var e=i(this),r=arguments[1],o=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){if(!0!==e._iterationObject.done){var n=t.call(r,e.next().value,o++,e);e._iterationObject.value=n}return e._iterationObject}))},i.prototype.filterIterator=function(t){var e=i(this),r=arguments[1],o=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){for(var n;;){if(!0===(n=e.next()).done)return n;if(t.call(r,n.value,o++,e))return n}}))},i.prototype.reduce=function(t){var e,r=i(this),o=arguments[1],s=arguments[2],a=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;if(!0===(e=r.next()).done){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(o=arguments.length>1?t.call(s,o,e.value,a,r):e.value,a++;;){if(!0===(e=r.next()).done)return o;o=t.call(s,o,e.value,a,r),a++}},i.prototype.concat=function(){return i.concat(Array.prototype.concat.apply(this,arguments))},i.prototype.dropWhile=function(t){var e,r,o=i(this),s=arguments[1],a=!1,h=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;for(;!0!==(r=o.next()).done;){if(!t.call(s,r.value,h,o)){a=!0,e=r.value;break}h++}return a?o.constructor([e]).concat(o):o.constructor([])},i.prototype.takeWhile=function(t){var e=i(this),r=arguments[1],o=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){if(!0!==e._iterationObject.done){var n=e.next().value;t.call(r,n,o++,e)?e._iterationObject.value=n:(e._iterationObject.done=!0,e._iterationObject.value=void 0)}return e._iterationObject}))},i.prototype.zipIterator=function(){return i.unzip(Array.prototype.concat.apply(this,arguments))},i.prototype.enumerateIterator=function(t){return i.count(t).zipIterator(this)},i.iterate=function(t){var e;return e=0,new i((function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length){this._iterationObject.done=!0,this._iterationObject.value=void 0;break}e+=1}else e>=t.length&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);return this._iterationObject.done||(this._iterationObject.value=t[e],e+=1),this._iterationObject}))},i.cycle=function(t,e){var r;return arguments.length<2&&(e=1/0),new i((function(){var n,o;return r&&(o=r()),r&&!0!==o.done||(e>0?(e--,n=i.iterate(t),o=(r=n.next.bind(n))()):(this._iterationObject.done=!0,o=this._iterationObject)),o}))},i.concat=function(t){var e;return t=i(t),new i((function(){var r,n;return e&&(n=e()),n&&!0!==n.done?n:!1===(n=t.next()).done?(r=i(n.value),(e=r.next.bind(r))()):n}))},i.unzip=function(t){return 0===(t=i(t).map(i)).length?new i([]):new i((function(){var e,r,n=t.map((function(t){return!0===(r=t.next()).done&&(e=!0),r.value}));return e?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=n,this._iterationObject}))},i.zip=function(){return i.unzip(Array.prototype.slice.call(arguments))},i.chain=function(){return i.concat(Array.prototype.slice.call(arguments))},i.range=function(t,e,r){return arguments.length<3&&(r=1),arguments.length<2&&(e=t,t=0),t=t||0,r=r||1,new i((function(){t>=e&&(this._iterationObject.done=!0,this._iterationObject.value=void 0);var n=t;return t+=r,this._iterationObject.value=n,this._iterationObject}))},i.count=function(t,e){return i.range(t,1/0,e)},i.repeat=function(t,e){return new i.range(e).mapIterator((function(){return t}))}},193:(t,e,r)=>{var n=r(556),o=t.exports.ObjectChangeDescriptor=function(t){return this.name=t,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null,this};Object.defineProperties(o.prototype,{name:{value:null,writable:!0},isActive:{value:!1,writable:!0},_willChangeListeners:{value:null,writable:!0},willChangeListeners:{get:function(){return this._willChangeListeners||(this._willChangeListeners=new this.willChangeListenersRecordConstructor(this.name))}},_changeListeners:{value:null,writable:!0},changeListeners:{get:function(){return this._changeListeners||(this._changeListeners=new this.changeListenersRecordConstructor(this.name))}},changeListenersRecordConstructor:{value:a,writable:!0},willChangeListenersRecordConstructor:{value:c,writable:!0}});var i=t.exports.ListenerGhost=Object.create(null),s=new n;function a(t){var e=s.get(t);return e||(e="handle",e+=t,e+="Change",s.set(t,e)),this._current=null,this._current=null,this.specificHandlerMethodName=e,this}t.exports.ChangeListenersRecord=a,Object.defineProperties(a.prototype,{_current:{value:null,writable:!0},current:{get:function(){return this._current},set:function(t){this._current=t}},ListenerGhost:{value:i,writable:!0},ghostCount:{value:0,writable:!0},maxListenerGhostRatio:{value:.3,writable:!0},listenerGhostFilter:{value:function(t){return t!==this.ListenerGhost}},removeCurrentGostListenersIfNeeded:{value:function(){return this._current&&this.ghostCount/this._current.length>this.maxListenerGhostRatio&&(this.ghostCount=0,this._current=this._current.filter(this.listenerGhostFilter,this)),this._current}},dispatchBeforeChange:{value:!1,writable:!0},genericHandlerMethodName:{value:"handlePropertyChange",writable:!0}}),t.exports.WillChangeListenersRecord=c;var h=new n;function c(t){var e=h.get(t);return e||(e="handle",e+=t,e+="WillChange",h.set(t,e)),this.specificHandlerMethodName=e,this}c.prototype=new a,c.prototype.constructor=c,c.prototype.genericHandlerMethodName="handlePropertyWillChange"},226:(t,e,r)=>{"use strict";var n=r(114),o=r(556),i=r(193),s=i.ObjectChangeDescriptor,a=i.ChangeListenersRecord,h=i.ListenerGhost,c=new n;function u(t){this.name=t,this.isActive=!1,this._willChangeListeners=null,this._changeListeners=null}u.prototype=new s,u.prototype.constructor=u,u.prototype.changeListenersRecordConstructor=f,u.prototype.willChangeListenersRecordConstructor=y,Object.defineProperty(u.prototype,"active",{get:function(){return this._active||(this._active=this._current?this._current.slice():[])}});var p=new o;function f(t){var e=p.get(t);return e||(e="handle",e+=t.slice(0,1).toUpperCase(),e+=t.slice(1),e+="RangeChange",p.set(t,e)),this.specificHandlerMethodName=e,this}f.prototype=new a,f.prototype.constructor=f;var l=new o;function y(t){var e=l.get(t);return e||(e="handle",e+=t.slice(0,1).toUpperCase(),e+=t.slice(1),e+="RangeWillChange",l.set(t,e)),this.specificHandlerMethodName=e,this}function d(){throw new Error("Can't construct. RangeChanges is a mixin.")}y.prototype=new a,y.prototype.constructor=y,t.exports=d,d.prototype.getAllRangeChangeDescriptors=function(){return c.has(this)||c.set(this,new o),c.get(this)},d.prototype.getRangeChangeDescriptor=function(t){var e=this.getAllRangeChangeDescriptors();return t=t||"",e.has(t)||e.set(t,new u(t)),e.get(t)};var g=new n,v="dispatchesRangeChanges",b={get:function(){return g.get(this)},set:function(t){return g.set(this,t)},configurable:!0,enumerable:!1};d.prototype.addRangeChangeListener=function(t,e,r){!this.isObservable&&this.makeObservable&&this.makeObservable();var n,o=this.getRangeChangeDescriptor(e);(n=r?o.willChangeListeners:o.changeListeners)._current?Array.isArray(n._current)?n._current.push(t):n._current=[n._current,t]:n._current=t,void 0===Object.getOwnPropertyDescriptor(this.__proto__||Object.getPrototypeOf(this),v)&&Object.defineProperty(this.__proto__||Object.getPrototypeOf(this),v,b),this.dispatchesRangeChanges=!0;var i=this;return function(){i&&(i.removeRangeChangeListener(t,e,r),i=null)}},d.prototype.removeRangeChangeListener=function(t,e,r){var n,o=this.getRangeChangeDescriptor(e);if((n=r?o._willChangeListeners:o._changeListeners)._current)if(n._current===t)n._current=null;else{var i=n._current.lastIndexOf(t);if(-1===i)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(e));o.isActive?(n.ghostCount=n.ghostCount+1,n._current[i]=h):n._current.spliceOne(i)}},d.prototype.dispatchRangeChange=function(t,e,r,n){var o,i,s,a,c,u,p,f,l=this.getAllRangeChangeDescriptors(),y=l.values();for(l.dispatchBeforeChange=n;o=y.next().value;){if(o.isActive)return;if((i=n?o._willChangeListeners:o._changeListeners)&&i._current)if(s=i.specificHandlerMethodName,Array.isArray(i._current)){if(i._current.length){o.isActive=!0;try{for(p=i.removeCurrentGostListenersIfNeeded(),f=h,a=0,c=p.length;a<c;a++)if((u=p[a])!==f)if(u[s])u[s](t,e,r,this,n);else{if(!u.call)throw new Error("Handler "+u+" has no method "+s+" and is not callable");u.call(this,t,e,r,this,n)}}finally{o.isActive=!1}}}else{o.isActive=!0;try{if((u=i._current)[s])u[s](t,e,r,this,n);else{if(!u.call)throw new Error("Handler "+u+" has no method "+s+" and is not callable");u.call(this,t,e,r,this,n)}}finally{o.isActive=!1}}}},d.prototype.addBeforeRangeChangeListener=function(t,e){return this.addRangeChangeListener(t,e,!0)},d.prototype.removeBeforeRangeChangeListener=function(t,e){return this.removeRangeChangeListener(t,e,!0)},d.prototype.dispatchBeforeRangeChange=function(t,e,r){return this.dispatchRangeChange(t,e,r,!0)}},943:(t,e,r)=>{"use strict";r(449);var n=r(647),o=r(188),i=r(114);t.exports=Array;var s=Array.prototype.splice,a=Array.prototype.slice;Array.empty||(Array.empty=[],Object.freeze&&Object.freeze(Array.empty)),Array.nativeFrom||(Array.nativeFrom=Array.from);var h="undefined"!=typeof Symbol;function c(t,e){Object.defineProperty(Array.prototype,t,{value:e,writable:!0,configurable:!0,enumerable:!1})}Array.from=function(t,e,r){if(h&&t&&("function"==typeof t[Symbol.iterator]||"function"==typeof e))return Array.nativeFrom(t,e,r);var n=[];return n.addEach(t),n},Array.unzip=function(t){for(var e=[],r=1/0,n=0;n<t.length;n++){var o=t[n];t[n]=o.toArray(),o.length<r&&(r=o.length)}for(n=0;n<t.length;n++){o=t[n];for(var i=0;i<o.length;i++)i<r&&i in o&&(e[i]=e[i]||[],e[i][n]=o[i])}return e},c("addEach",n.prototype.addEach),c("deleteEach",n.prototype.deleteEach),c("toArray",n.prototype.toArray),c("toObject",n.prototype.toObject),c("all",n.prototype.all),c("any",n.prototype.any),c("min",n.prototype.min),c("max",n.prototype.max),c("sum",n.prototype.sum),c("average",n.prototype.average),c("only",n.prototype.only),c("flatten",n.prototype.flatten),c("zip",n.prototype.zip),c("enumerate",n.prototype.enumerate),c("group",n.prototype.group),c("sorted",n.prototype.sorted),c("reversed",n.prototype.reversed),c("constructClone",(function(t){var e=new this.constructor;return e.addEach(t),e})),c("has",(function(t,e){return-1!==this.findValue(t,e)})),c("get",(function(t,e){if(+t!==t)throw new Error("Indicies must be numbers");return!t in this?e:this[t]})),c("set",(function(t,e){return this[t]=e,!0})),c("add",(function(t){return this.push(t),!0})),c("delete",(function(t,e){var r=this.findValue(t,e);return-1!==r&&(this.spliceOne(r),!0)})),c("deleteAll",(function(t,e){e=e||this.contentEquals||Object.equals;for(var r=0,n=0;n<this.length;)e(t,this[n])?(this.swap(n,1),r++):n++;return r})),Array.prototype.find||c("find",(function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<r;){var i=e[o];if(t.call(n,i,o,e))return i;o++}}));var u={};function p(t,e){"undefined"!=typeof console&&"function"==typeof console.warn&&!0!==e&&!1===u.hasOwnProperty(t)&&(console.warn(t),u[t]++)}var f=Object.getOwnPropertyDescriptor(Array.prototype,"find").value;function l(t,e,r){this.array=t,this.start=null==e?0:e,this.end=r}c("find",(function(t,e,r){return"function"==typeof arguments[0]&&this instanceof Array?f.apply(this,arguments):(p("Array#find usage is deprecated please use Array#findValue"),this.findValue.apply(this,arguments))})),c("findValue",(function(t,e,r){if(r)throw new Error("Array#findValue does not support third argument: index");for(e=e||this.contentEquals||Object.equals,r=0;r<this.length;r++)if(r in this&&e(t,this[r]))return r;return-1})),c("findLast",(function(t,e){return p("Array#findLast function is deprecated please use Array#findLastValue instead."),this.findLastValue.apply(this,arguments)})),c("findLastValue",(function(t,e){e=e||this.contentEquals||Object.equals;var r=this.length;do{if(--r in this&&e(this[r],t))return r}while(r>0);return-1})),c("swap",(function(t,e,r){var n,o,i,h,c;if(t>this.length&&(this.length=t),void 0!==r){if(n=[t,e],Array.isArray(r)||(r=a.call(r)),i=0,(o=r.length)<1e3){for(;i<o;i++)n[i+2]=r[i];return s.apply(this,n)}for(c=s.apply(this,n);i<o;){for(n=[t+i,0],h=2;h<1002&&i<o;h++,i++)n[h]=r[i];s.apply(this,n)}return c}return void 0!==e?s.call(this,t,e):void 0!==t?s.call(this,t):[]})),c("peek",(function(){return this[0]})),c("poke",(function(t){this.length>0&&(this[0]=t)})),c("peekBack",(function(){if(this.length>0)return this[this.length-1]})),c("pokeBack",(function(t){this.length>0&&(this[this.length-1]=t)})),c("one",(function(){for(var t in this)if(Object.owns(this,t))return this[t]})),Array.prototype.clear||c("clear",(function(){return this.length=0,this})),c("compare",(function(t,e){var r,n,i;if(e=e||Object.compare,this===t)return 0;if(!t||!Array.isArray(t))return o.prototype.compare.call(this,t,e);for(n=this.length<t.length?this.length:t.length,r=0;r<n;r++)if(r in this){if(!(r in t))return-1;if(i=e(this[r],t[r]))return i}else if(r in t)return 1;return this.length-t.length})),c("equals",(function(t,e){e=e||Object.equals;var r=0,n=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return o.prototype.equals.call(this,t);if(n!==t.length)return!1;for(;r<n;++r)if(r in this){if(!(r in t))return!1;if(!e(this[r],t[r]))return!1}else if(r in t)return!1;return!0})),c("clone",(function(t,e){if(null==t)t=1/0;else if(0===t)return this;if((e=e||new i).has(this))return e.get(this);var r=new Array(this.length);for(var n in e.set(this,r),this)r[n]=Object.clone(this[n],t-1,e);return r})),c("iterate",(function(t,e){return new l(this,t,e)})),void 0===Array.prototype.spliceOne&&c("spliceOne",(function(t,e){var r=this.length;if(r)if(1===arguments.length){for(;t<r;)this[t]=this[t+1],t++;this.length--}else this[t]=e})),c("Iterator",l),l.prototype.__iterationObject=null,Object.defineProperty(l.prototype,"_iterationObject",{get:function(){return this.__iterationObject||(this.__iterationObject={done:!1,value:null})}}),l.prototype.next=function(){return this.start===(null==this.end?this.array.length:this.end)?(this._iterationObject.done=!0,this._iterationObject.value=void 0):this._iterationObject.value=this.array[this.start++],this._iterationObject}},449:t=>{t.exports=Function,Function.noop=function(){},Function.identity=function(t){return t},Function.by=function(t,e){e=e||Object.compare,t=t||Function.identity;var r=function(r,n){return e(t(r),t(n))};return r.compare=e,r.by=t,r},Function.get=function(t){return function(e){return Object.get(e,t)}}},930:(t,e,r)=>{"use strict";var n=r(114);r(449),t.exports=Object,Object.empty=Object.freeze(Object.create(null)),Object.isObject=function(t){return Object(t)===t},Object.getValueOf=function(t){return t&&"function"==typeof t.valueOf&&(t=t.valueOf()),t};var o=new n;Object.hash=function(t){return t&&"function"==typeof t.hash?""+t.hash():Object(t)===t?(o.has(t)||o.set(t,Math.random().toString(36).slice(2)),o.get(t)):""+t};var i=Object.prototype.hasOwnProperty;Object.owns=function(t,e){return i.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw new Error("Object.has can't accept non-object: "+typeof t);if(t&&"function"==typeof t.has)return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,r){if("object"!=typeof t)throw new Error("Object.get can't accept non-object: "+typeof t);return t&&"function"==typeof t.get?t.get(e,r):Object.has(t,e)?t[e]:r},Object.set=function(t,e,r){t&&"function"==typeof t.set?t.set(e,r):t[e]=r},Object.addEach=function(t,e,r){var n=3!==arguments.length||r;if(e)if("function"!=typeof e.forEach||e.hasOwnProperty("forEach"))if("number"==typeof e.length)for(var o=0;o<e.length;o++)t[o]=e[o];else for(var i,s=Object.keys(e),a=0;i=s[a];a++)!n&&Object.owns(t,i)||(t[i]=e[i]);else!0===e.isMap?e.forEach((function(e,r){t[r]=e})):e.forEach((function(e){t[e[0]]=e[1]}));return t},Object.defineEach=function(t,e,r,n,o,i){var s=3!==arguments.length||r;if(e)if("function"!=typeof e.forEach||e.hasOwnProperty("forEach"))if("number"==typeof e.length)for(var a=0;a<e.length;a++)Object.defineProperty(t,a,{value:e[a],writable:i,configurable:n,enumerable:o});else for(var h,c=Object.keys(e),u=0;h=c[u];u++)!s&&Object.owns(t,h)||Object.defineProperty(t,h,{value:e[h],writable:i,configurable:n,enumerable:o});else!0===e.isMap?e.forEach((function(e,r){Object.defineProperty(t,r,{value:e,writable:i,configurable:n,enumerable:o})})):e.forEach((function(e){Object.defineProperty(t,e[0],{value:e[1],writable:i,configurable:n,enumerable:o})}));return t},Object.forEach=function(t,e,r){for(var n,o=Object.keys(t),i=0;n=o[i];i++)e.call(r,t[n],n,t)},Object.map=function(t,e,r){for(var n,o=Object.keys(t),i=0,s=[];n=o[i];i++)s.push(e.call(r,t[n],n,t));return s},Object.values=function(t){return Object.map(t,Function.identity)},Object.concat=function(){for(var t={},e=0;e<arguments.length;e++)Object.addEach(t,arguments[e]);return t},Object.from=Object.concat,Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Object.equals=function(t,e,r,o){if(r=r||Object.equals,(t=Object.getValueOf(t))===(e=Object.getValueOf(e)))return!0;if(Object.isObject(t)){if((o=o||new n).has(t))return!0;o.set(t,!0)}if(Object.isObject(t)&&"function"==typeof t.equals)return t.equals(e,r,o);if(Object.isObject(e)&&"function"==typeof e.equals)return e.equals(t,r,o);if(Object.isObject(t)&&Object.isObject(e)&&Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){for(var i in t)if(!r(t[i],e[i],r,o))return!1;for(var i in e)if(!(i in t)||!r(e[i],t[i],r,o))return!1;return!0}return t!=t&&e!=e||(!t||!e)&&t===e},Object.compare=function(t,e){if((t=Object.getValueOf(t))===(e=Object.getValueOf(e)))return 0;var r=typeof t,n=typeof e;return"number"===r&&"number"===n?t-e:"string"===r&&"string"===n?t<e?-1/0:1/0:t&&"function"==typeof t.compare?t.compare(e):e&&"function"==typeof e.compare?-e.compare(t):0},Object.clone=function(t,e,r){if(t=Object.getValueOf(t),r=r||new n,void 0===e)e=1/0;else if(0===e)return t;if(Object.isObject(t)){if(!r.has(t))if(t&&"function"==typeof t.clone)r.set(t,t.clone(e,r));else{var o=Object.getPrototypeOf(t);if(null!==o&&o!==Object.prototype)throw new Error("Can't clone "+t);var i=Object.create(o);for(var s in r.set(t,i),t)i[s]=Object.clone(t[s],e-1,r)}return r.get(t)}return t},Object.clear=function(t){if(t&&"function"==typeof t.clear)t.clear();else for(var e=Object.keys(t),r=e.length;r;)delete t[e[--r]];return t}},764:()=>{if(!RegExp.escape){var t=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(e){return e.replace(t,"\\$&")}}},126:(t,e,r)=>{r(943),r(930),r(449),r(764)},312:t=>{"use strict";function e(){}t.exports=e,e.ascii={intersection:"+",through:"-",branchUp:"+",branchDown:"+",fromBelow:".",fromAbove:"'",fromBoth:"+",strafe:"|"},e.unicodeRound={intersection:"",through:"",branchUp:"",branchDown:"",fromBelow:"",fromAbove:"",fromBoth:"",strafe:""},e.unicodeSharp={intersection:"",through:"",branchUp:"",branchDown:"",fromBelow:"",fromAbove:"",fromBoth:"",strafe:""}},114:(t,e,r)=>{t.exports="undefined"!=typeof WeakMap?WeakMap:r(277)},277:t=>{!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=g);var e=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,o=Object.freeze({});if(n.set(o,1),1===n.get(o))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var i=Object.getOwnPropertyNames,s=Object.defineProperty,a=Object.isExtensible,h="weakmap:",c=h+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var u=new ArrayBuffer(25),p=new Uint8Array(u);crypto.getRandomValues(p),c=h+"rand:"+Array.prototype.map.call(p,(function(t){return(t%36).toString(36)})).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(t){return i(t).filter(v)}}),"getPropertyNames"in Object){var f=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(t){return f(t).filter(v)}})}!function(){var t=Object.freeze;s(Object,"freeze",{value:function(e){return b(e),t(e)}});var e=Object.seal;s(Object,"seal",{value:function(t){return b(t),e(t)}});var r=Object.preventExtensions;s(Object,"preventExtensions",{value:function(t){return b(t),r(t)}})}();var l=!1,y=0,d=function(){this instanceof d||_();var t=[],e=[],r=y++;return Object.create(d.prototype,{get___:{value:O((function(n,o){var i,s=b(n);return s?r in s?s[r]:o:(i=t.indexOf(n))>=0?e[i]:o}))},has___:{value:O((function(e){var n=b(e);return n?r in n:t.indexOf(e)>=0}))},set___:{value:O((function(n,o){var i,s=b(n);return s?s[r]=o:(i=t.indexOf(n))>=0?e[i]=o:(i=t.length,e[i]=o,t[i]=n),this}))},delete___:{value:O((function(n){var o,i,s=b(n);return s?r in s&&delete s[r]:!((o=t.indexOf(n))<0||(i=t.length-1,t[o]=void 0,e[o]=e[i],t[o]=t[i],t.length=i,e.length=i,0))}))}})};d.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof r?function(){function n(){this instanceof d||_();var t,n=new r,o=void 0,i=!1;return t=e?function(t,e){return n.set(t,e),n.has(t)||(o||(o=new d),o.set(t,e)),this}:function(t,e){if(i)try{n.set(t,e)}catch(r){o||(o=new d),o.set___(t,e)}else n.set(t,e);return this},Object.create(d.prototype,{get___:{value:O((function(t,e){return o?n.has(t)?n.get(t):o.get___(t,e):n.get(t,e)}))},has___:{value:O((function(t){return n.has(t)||!!o&&o.has___(t)}))},set___:{value:O(t)},delete___:{value:O((function(t){var e=!!n.delete(t);return o&&o.delete___(t)||e}))},permitHostObjects___:{value:O((function(t){if(t!==g)throw new Error("bogus call to permitHostObjects___");i=!0}))}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=d.prototype,t.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=d)}function g(t){t.permitHostObjects___&&t.permitHostObjects___(g)}function v(t){return!(t.substr(0,h.length)==h&&"___"===t.substr(t.length-3))}function b(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[c];if(e&&e.key===t)return e;if(a(t)){e={key:t};try{return s(t,c,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function O(t){return t.prototype=null,Object.freeze(t)}function _(){l||"undefined"==typeof console||(l=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(678),e=r.n(t);class n{static knightMoves(t,r){const o=n.makePrev(r),i=new(e())([r]);for(;i.length>0;){const t=i.shift(),e=n.getMoves(t,o);console.log(e);break}}static makePrev(t){const e=[...Array(8)].map((()=>Array(8).fill(null)));return e[t[0]][t[1]]=t,e}static getMoves(t,e){t[0],t[1];const r=[];for(let o=-1;o<=1;o+=2)for(let i=-2;i<=2;i+=4){const s=[t[0]+o,t[1]+i];n.checkMoveValidity(s,e)&&r.push(s);const a=[t[0]+i,t[1]+o];n.checkMoveValidity(a,e)&&r.push(a)}return r}static checkMoveValidity(t,e){const r=t[0],n=t[1];return!(r<0||r>7||n<0||n>7||null!==e[r][n])}}n.knightMoves([3,3],[4,3])})()})();